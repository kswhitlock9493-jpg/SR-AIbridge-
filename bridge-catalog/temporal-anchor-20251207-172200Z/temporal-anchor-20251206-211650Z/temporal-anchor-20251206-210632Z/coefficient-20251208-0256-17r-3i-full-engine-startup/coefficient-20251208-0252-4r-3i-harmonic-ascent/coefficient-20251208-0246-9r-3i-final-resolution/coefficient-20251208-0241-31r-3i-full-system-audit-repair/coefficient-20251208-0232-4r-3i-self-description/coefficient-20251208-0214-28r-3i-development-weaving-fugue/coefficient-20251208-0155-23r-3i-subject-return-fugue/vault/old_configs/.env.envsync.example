# ==========================================================================================
# EnvSync Configuration - Genesis v2.0.1a
# SOVEREIGN DOMINION TOKEN FORGE INTEGRATION v2.0.0
# ==========================================================================================
# This file shows the configuration needed to enable EnvSync Seed Manifest synchronization
# Add these variables to your BRH runtime or Netlify environment dashboards
# All secrets managed by Token Forge (SDTF) - DO NOT add plaintext secrets
# ==========================================================================================

# === FORGE DOMINION CONFIGURATION (REQUIRED) ===

# Sovereign Dominion Token Forge - manages ALL secrets
FORGE_DOMINION_MODE=sovereign
FORGE_DOMINION_VERSION=2.0.0
# Set FORGE_DOMINION_ROOT in GitHub Secrets or platform environment
# All provider tokens (NETLIFY_API_TOKEN) are minted at runtime

# === ENVSYNC CORE CONFIGURATION ===

# Enable EnvSync engine
ENVSYNC_ENABLED=true

# Sync mode: "dry-run" (preview only) or "enforce" (apply changes)
ENVSYNC_MODE=enforce

# Sync schedule: "@hourly" or "@daily"
ENVSYNC_SCHEDULE=@hourly

# Canonical source: "file" (uses seed manifest) or "env" (uses current environment)
# Set to "file" to use the EnvSync Seed Manifest
ENVSYNC_CANONICAL_SOURCE=file

# Target platforms (comma-separated) - Render removed, using BRH
ENVSYNC_TARGETS=netlify

# === TOKEN DISCOVERY - MANAGED BY FORGE DOMINION ===

# Discovery order for API tokens
# Token Forge integration takes priority over all other sources
ENVSYNC_DISCOVERY_ORDER=forge_dominion,env,vault,dashboard

# Vault keys for API tokens - MANAGED BY FORGE DOMINION (SDTF)
# These are auto-generated by Token Forge - DO NOT set manually
ENVSYNC_VAULT_TOKEN_KEYS=NETLIFY_API_TOKEN

# === PROVIDER CONFIGURATION ===

# Netlify site ID (find in Netlify dashboard)
NETLIFY_SITE_ID=<YOUR_NETLIFY_SITE_ID>

# Provider API tokens - MANAGED BY FORGE DOMINION (SDTF)
# These are auto-generated by Token Forge - DO NOT set manually
NETLIFY_API_TOKEN=<FORGE_MANAGED>

# === SYNC FILTERING ===

# Only sync variables starting with these prefixes (comma-separated)
# Note: Variables in the seed manifest are automatically filtered
ENVSYNC_INCLUDE_PREFIXES=BRIDGE_,SR_,HEART_,ENVSYNC_,LINK_,BLUEPRINTS_,DB_,HEALTH_,FEDERATION_,WATCHDOG_,PREDICTIVE_,HOST,GENESIS_,FORGE_,BRH_

# Exclude variables starting with these prefixes
# Secrets are managed by Forge Dominion (SDTF), not EnvSync
ENVSYNC_EXCLUDE_PREFIXES=SECRET_,INTERNAL_,DEBUG_,DATABASE_URL,NETLIFY_AUTH,GITHUB_TOKEN,FORGE_DOMINION_ROOT

# Allow EnvSync to delete variables that exist on platform but not in canonical source
# WARNING: Set to true with caution - this will remove platform-only variables
ENVSYNC_ALLOW_DELETIONS=false

# === GENESIS INTEGRATION ===

# Enable Genesis mode for event bus integration
GENESIS_MODE=enabled

# Link engines for cross-engine coordination
LINK_ENGINES=true

# Enable Blueprint system
BLUEPRINTS_ENABLED=true

# === MONITORING & DIAGNOSTICS ===

# Enable automatic diagnostics
AUTO_DIAGNOSE=true

# Enable EnvSync self-reporting to Umbra
ENVSYNC_REPORT_TO_UMBRA=true

# Enable Truth certification for all sync operations
TRUTH_CERTIFICATION=true

# === SAFETY & RBAC ===

# Require Truth certification before applying changes
ENVSYNC_TRUTH_MANDATORY=true

# Minimum role required to trigger manual sync
ENVSYNC_MIN_ROLE=captain

# Maximum variables to sync in a single batch
ENVSYNC_MAX_BATCH_SIZE=100

# ==========================================================================================
# END OF CONFIGURATION
#
# Remember: All secrets are managed by Sovereign Dominion Token Forge
# Run: bash runtime/pre-deploy.dominion.sh to mint tokens before deployment
# ==========================================================================================
