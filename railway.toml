# SR-AIbridge - Railway Backend Configuration
# Updated for autonomous backend deployment

[build]
# Use nixpacks for automatic Python detection
builder = "NIXPACKS"
# Install dependencies from the backend directory
buildCommand = "cd bridge-backend && pip install -r requirements.txt"

[deploy]
# Start the FastAPI backend with uvicorn
startCommand = "cd bridge-backend && uvicorn main:app --host 0.0.0.0 --port $PORT"
# Health check endpoint
healthcheckPath = "/"
# Restart policy
restartPolicyType = "ON_FAILURE"

[env]
# Environment variables for Railway deployment
# Railway will provide PORT automatically
PYTHON_VERSION = "3.12"
ENVIRONMENT = "production"

# Optional: Uncomment for database version
# DATABASE_URL = "${{ Postgres.DATABASE_URL }}"

# Optional: Custom CORS origins
# CORS_ORIGINS = "https://your-app.netlify.app,https://your-domain.com"