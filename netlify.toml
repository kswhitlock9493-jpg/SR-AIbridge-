# ==========================================
# SR-AIbridge Netlify Configuration (v1.7.8)
# ==========================================

[build]
  base    = "bridge-frontend"
  publish = "dist"
  command = "npm run build"
  functions = "netlify/functions"

[build.environment]
  NODE_VERSION = "20"
  NODE_ENV = "production"
  SECRETS_SCAN_ENABLED = "false"
  VITE_API_BASE = "https://sr-aibridge.onrender.com"
  REACT_APP_API_URL = "https://sr-aibridge.onrender.com"
  CASCADE_MODE = "active"
  BRIDGE_API_URL = "https://sr-aibridge.onrender.com"
  VAULT_URL = "https://vault.sr-aibridge.com"
  PUBLIC_API_BASE = "https://sr-aibridge.onrender.com"
  PUPPETEER_SKIP_DOWNLOAD = "true"
  PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD = "true"
  CHROMIUM_DOWNLOAD_ALLOWED = "false"
  PUPPETEER_CACHE_DIR = "/opt/buildhome/.cache/puppeteer"
  PLAYWRIGHT_BROWSERS_PATH = "/opt/buildhome/.cache/ms-playwright"
  CHROMIUM_CHANNEL = "stable"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

