# SR-AIbridge Backend Configuration
# Copy this file to .env and update with your values

# ===== Database Configuration =====
# For SQLite (Development):
DATABASE_TYPE=sqlite
DATABASE_URL=sqlite:///bridge.db

# For PostgreSQL (Production):
# DATABASE_TYPE=postgres
# DATABASE_URL=postgresql+asyncpg://username:password@hostname:5432/dbname
# Example for Render:
# DATABASE_URL=postgresql+asyncpg://sr_app:password@hostname.render.com:5432/sr_aibridge

# ===== Core Database Connection (Render PostgreSQL) =====
# Production-grade PostgreSQL connection using Render's managed database service
# Replace <YOUR_PASSWORD> with your actual database password from Render Dashboard
# For production, use the Internal Database URL from Render:
DATABASE_URL=postgresql://sr_admin:<YOUR_PASSWORD>@dpg-d3i3jc0dl3ps73csp9e0-a.oregon-postgres.render.com/sr_aibridge_main

# ===== CORS Configuration =====
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,https://bridge.netlify.app,https://sr-aibridge.netlify.app
CORS_ALLOW_ALL=false

# ===== Bridge Services =====
# Vault API endpoint for bridge operations
VAULT_URL=https://bridge.netlify.app/api/vault

# CASCADE_MODE controls the bridge operation mode
# Options: development, production
CASCADE_MODE=production

# FEDERATION_SYNC_KEY is used for secure federation synchronization
# Generate a secure random key for production use
FEDERATION_SYNC_KEY=<YOUR_GENERATED_SECRET>

# ===== Application Settings =====
DEBUG=true
PORT=8000

# ===== Optional Monitoring =====
# Datadog integration for production monitoring
DATADOG_API_KEY=
DATADOG_REGION=us

# ===== Secure Data Relay Protocol =====
# Enable/disable automatic email archival before deletion
RELAY_ENABLED=false

# Email destination for data relay
RELAY_EMAIL=sraibridge@gmail.com

# Relay mode: "pre_delete" (archive before deletion) or "post_delete" (archive after)
RELAY_MODE=pre_delete

# Local backup path for relay queue (failed sends)
RELAY_BACKUP_PATH=./vault/relay_queue

# ===== SMTP Configuration (for email relay) =====
# Gmail SMTP settings (requires App Password if 2FA enabled)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# Alternative SMTP providers:
# SendGrid: SMTP_HOST=smtp.sendgrid.net, SMTP_PORT=587
# Mailgun: SMTP_HOST=smtp.mailgun.org, SMTP_PORT=587
# AWS SES: SMTP_HOST=email-smtp.region.amazonaws.com, SMTP_PORT=587
