# SR-AIbridge Network Allowlist
# Generated by Firewall Intelligence Engine
# Last updated: 2025-10-08T02:54:28.732904+00:00

apiVersion: v1
kind: NetworkPolicy
metadata:
  name: sr-aibridge-egress-allowlist
  namespace: default
spec:
  podSelector:
    matchLabels:
      app: sr-aibridge
  policyTypes:
    - Egress
  egress:
    # Allow DNS
    - to:
        - namespaceSelector: {}
      ports:
        - protocol: UDP
          port: 53
    
    # Allow NTP
    - to:
        - namespaceSelector: {}
      ports:
        - protocol: UDP
          port: 123
    
    # Allow HTTPS to critical domains
    - to:
        - namespaceSelector: {}
      ports:
        - protocol: TCP
          port: 443
        - protocol: TCP
          port: 80

# Critical Domains (for firewall/proxy configuration)
# Add these to your allow list:
domains:
  - api.github.com
  - api.netlify.com
  - api.render.com
  - codeload.github.com
  - files.pythonhosted.org
  - ghcr.io
  - github.com
  - netlify.com
  - nodejs.org
  - objects.githubusercontent.com
  - pypi.org
  - raw.githubusercontent.com
  - registry.npmjs.org
  - render.com
  - www.githubstatus.com
  - www.netlifystatus.com

# Required Ports
ports:
  - 443/TCP # HTTPS
  - 80/TCP # HTTP
  - 53/UDP # DNS
  - 123/UDP # NTP
