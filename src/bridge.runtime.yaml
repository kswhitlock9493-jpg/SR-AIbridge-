version: "1.0"
runtime:
  name: qic-node
  type: sovereign

  auth:
    provider: forge_dominion
    token_mode: ephemeral
    token_ttl: 3600
    auto_renew: true

  containers:
    - name: qic-daemon
      image: python:3.12-slim   # local fallback
      command: ["python", "-m", "uvicorn", "bridge_core.qic_daemon:app", "--host", "0.0.0.0", "--port", "1440"]
      ports: ["1440:1440"]
      health_check:
        path: "/qic/health"
        interval: 17
        timeout: 5
        retries: 3
      resources:
        memory: "128Mi"
        cpu: "0.2"

  federation:
    enabled: true
    lattice_mode: harmonic
    heartbeat_interval: 60
