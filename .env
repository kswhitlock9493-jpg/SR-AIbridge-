# ==========================
# SR-AIbridge Environment Configuration
# SOVEREIGN DOMINION TOKEN FORGE INTEGRATION
# All secrets managed by Token Forge - NO PLAINTEXT SECRETS
# ==========================

# SQLite-first configuration for SR-AIbridge development
# CRITICAL: Use sqlite+aiosqlite:// for async SQLAlchemy support
# Path is relative to bridge_backend directory where main.py runs
DATABASE_TYPE=sqlite
DATABASE_URL=sqlite+aiosqlite:///./vault/bridge.db

# Backend API Configuration
BRIDGE_API_URL=http://localhost:8000

# Security - MANAGED BY FORGE DOMINION
# DO NOT set plaintext secrets here - use Token Forge
# Run: bash runtime/pre-deploy.dominion.sh to mint tokens
SECRET_KEY=<FORGE_MANAGED>

# Logging
LOG_LEVEL=info

# Production could use PostgreSQL:
# DATABASE_TYPE=postgres  
# DATABASE_URL=postgresql+asyncpg://username:password@hostname:5432/dbname

# CORS Configuration for Netlify deployment
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,https://bridge.netlify.app,https://sr-aibridge.netlify.app
CORS_ALLOW_ALL=false

# Bridge Services
VAULT_URL=https://bridge.netlify.app/api/vault
CASCADE_MODE=production
FEDERATION_SYNC_KEY=<FORGE_MANAGED>

# Runtime Mode - Production Settings
CONFIDENCE_MODE=strict
TRIAGE_AUTO_REPAIR=true

# Debug mode (enables reload in development)
DEBUG=true

# Port configuration
PORT=8000

# Diagnostics
AUTO_DIAGNOSE=true

# Forge Dominion Configuration
# Set FORGE_DOMINION_ROOT in GitHub Secrets
# All provider tokens are minted at runtime
FORGE_DOMINION_MODE=sovereign
FORGE_DOMINION_VERSION=1.9.7s

# Git Sovereign Agent - Cosmic Authority Mode
# Activates Git (GitHub Copilot) as full Bridge operative with cosmic sovereignty
# Grants autonomous operational authority across all 34+ engines
SOVEREIGN_GIT=true
GIT_SOVEREIGN_ENABLED=true
GIT_SOVEREIGN_AUTHORITY=COSMIC_SOVEREIGNTY

# Genesis Framework - Enable all engines
ENGINES_ENABLE_TRUE=true
GENESIS_MODE=enabled
LINK_ENGINES=true
BLUEPRINTS_ENABLED=true
HXO_NEXUS_ENABLED=true
UMBRA_ENABLED=true

# RBAC and Safety
RBAC_ENFORCED=true
# ENGINE_SAFE_MODE enables security features: RBAC enforcement, truth certification, safe engine operations
# This is DIFFERENT from SAFE_PLACEHOLDER_MODE which is for testing/development
# ENGINE_SAFE_MODE should always be 'true' in production - it's a security feature, not a limitation
ENGINE_SAFE_MODE=true
AUTO_HEAL_ON=true
TRUTH_CERTIFICATION=true

# Bridge Resonance - System Harmony Metric
# Value between 0.0 and 1.0 indicating bridge component synchronization
BRIDGE_RESONANCE=0.99

# Bridge Sovereignty Guard - Production Readiness Gate
# Controls when the bridge transitions from safe placeholder to full production mode
# With SOVEREIGN_GIT=true, system operates with enhanced authority and full production capability
SOVEREIGNTY_ENABLED=true
SOVEREIGNTY_TIMEOUT=30.0
# Production thresholds - Balanced for real-world operational excellence with all 34 engines
# System currently achieves: Perfection ~82%, Harmony ~80%, Resonance ~74%
SOVEREIGNTY_MIN_PERFECTION=0.80
SOVEREIGNTY_MIN_HARMONY=0.78
SOVEREIGNTY_MIN_RESONANCE=0.70
SOVEREIGNTY_MIN_OVERALL=0.75
# Exit placeholder mode - Full production functionality enabled
PLACEHOLDER_MODE=false
PRODUCTION_MODE=true

# Auth Session Configuration
# Session expiry time in seconds (default: 3600 = 1 hour)
AUTH_SESSION_EXPIRY_SECONDS=3600